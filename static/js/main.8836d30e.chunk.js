(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{5432:function(e,t,n){e.exports=n(5578)},5578:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(18),o=n.n(l),c=(n(5437),n(19)),i=n(20),s=n(22),u=n(21),d=n(23),m=n(27),p=[{id:1,parts:"\uac00\uc2b4",name:"\ubca4\uce58\ud504\ub808\uc2a4",type:[{label:"Weight",name:"weight",checked:!0},{label:"Reps",name:"reps",checked:!0},{label:"Time",name:"time",checked:!1}],sets:[{weight:60,reps:12},{weight:70,reps:10},{weight:80,reps:8}],createdAt:"2018-01-01"},{id:2,parts:"\ub2e4\ub9ac",name:"\uc2a4\ucffc\ud2b8",type:[{label:"Weight",name:"weight",checked:!0},{label:"Reps",name:"reps",checked:!0},{label:"Time",name:"time",checked:!1}],sets:[{weight:70,reps:8},{weight:80,reps:8}],createdAt:"2018-01-01"},{id:3,parts:"\ud314",name:"\ub364\ubca8 \uceec",type:[{label:"Weight",name:"weight",checked:!0},{label:"Reps",name:"reps",checked:!0},{label:"Time",name:"time",checked:!1}],sets:[{weight:15,reps:8}],createdAt:"2018-01-01"},{id:4,parts:"\uc804\uc2e0",name:"\ub370\ub4dc\ub9ac\ud504\ud2b8",type:[{label:"Weight",name:"weight",checked:!0},{label:"Reps",name:"reps",checked:!0},{label:"Time",name:"time",checked:!1}],sets:[],createdAt:"2018-01-01"}],h=n(25),f=n(26),E=n(4),b=n(24),O=n(152),y=n.n(O),k=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,null,r.a.createElement(E.w,null,r.a.createElement(E.x,{variant:"title",color:"inherit",style:{flexGrow:1}},"Daily Workout"),r.a.createElement(E.k,{color:"inherit"},r.a.createElement(b.a,null)))))}}]),t}(a.Component);function S(){var e=Object(h.a)(["\n  margin-top: 56px;\n  padding: 1em;\n"]);return S=function(){return e},e}var g=f.a.div(S()),v=function(e){var t=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement(k,null),r.a.createElement(g,null,t))},w={padding:0,textAlign:"center"},D=function(e){var t=e.type,n=e.data,a=e.handleOpenSetsAddForm,l=e.handleOpenSetsUpdateForm,o=e.handleDeleteSets;return r.a.createElement(E.o,null,r.a.createElement(E.q,{style:{tableLayout:"fixed"}},r.a.createElement(E.t,null,r.a.createElement(E.u,null,r.a.createElement(E.s,{style:w,align:"center"},"Set"),r.a.createElement(E.s,{style:w,align:"center"},"Data"),r.a.createElement(E.s,{style:w,align:"center"},"Actions"))),r.a.createElement(E.r,null,n.map(function(e,a){return r.a.createElement(E.u,{key:a},r.a.createElement(E.s,{style:w,component:"td",scope:"row",align:"center"},a+1),r.a.createElement(E.s,{style:w,component:"td",scope:"row",align:"center"},t.map(function(t,n){return t.checked&&r.a.createElement("div",{key:"".concat(a,"-").concat(n),style:{margin:"1em 0",lineHeight:"1.5em"}},r.a.createElement("strong",null,t.label.toUpperCase())," ",r.a.createElement("br",null),r.a.createElement("span",null,e[t.name]))})),r.a.createElement(E.s,{style:w},r.a.createElement(E.k,{onClick:function(){return l(a)}},r.a.createElement(b.e,{fontSize:"small",color:"primary"})),r.a.createElement(E.k,{onClick:function(){return confirm("".concat(n.length-a,"\ubc88 \uc138\ud2b8\ub97c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"))&&o(a)}},r.a.createElement(b.c,{fontSize:"small",color:"secondary"}))))}),r.a.createElement(E.u,null,r.a.createElement(E.s,{style:w,align:"center"},n.length+1),r.a.createElement(E.s,{style:w,align:"center",colSpan:2},r.a.createElement(E.b,{fullWidth:!0,onClick:a},r.a.createElement(b.b,{fontSize:"small",color:"primary"})))))))};function j(){var e=Object(h.a)(["\n  padding: 0 1em;\n"]);return j=function(){return e},e}function C(){var e=Object(h.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]);return C=function(){return e},e}var T=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={anchorEl:null},n.handleClick=function(e){n.setState({anchorEl:e.currentTarget})},n.handleClose=function(){n.setState({anchorEl:null})},n.handleEdit=function(){n.handleClose(),n.props.handleOpenUpdateForm(n.props.data)},n.handleDelete=function(){confirm("".concat(n.props.data.name,"\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"))&&n.props.deleteWorkout(n.props.data),n.handleClose()},n.handleOpenSetsAddForm=function(){n.props.openSetsAddForm(n.props.data)},n.handleOpenSetsUpdateForm=function(e){n.props.openSetsUpdateForm(e,n.props.data)},n.handleDeleteSets=function(e){n.props.deleteSets(n.props.data.id,e)},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.data,t=this.state.anchorEl,n=!!t;return r.a.createElement(r.a.Fragment,null,r.a.createElement(x,null,r.a.createElement("span",null,e.parts||"\uae30\ud0c0"),r.a.createElement(A,null,e.name),r.a.createElement(E.k,{color:"inherit",onClick:this.handleClick,style:{marginRight:"-12px"}},r.a.createElement(b.f,null)),r.a.createElement(E.m,{id:"fade-menu",anchorEl:t,open:n,onClose:this.handleClose,TransitionComponent:E.h},r.a.createElement(E.n,{onClick:this.handleEdit,disabled:e.sets&&e.sets.length>0},r.a.createElement(E.l,null,r.a.createElement(b.e,{color:"primary"})),r.a.createElement(E.x,{variant:"body1"},"Edit")),r.a.createElement(E.n,{onClick:this.handleDelete},r.a.createElement(E.l,null,r.a.createElement(b.d,{color:"secondary"})),r.a.createElement(E.x,{variant:"body1"},"Delete")))),r.a.createElement(D,{type:e.type,data:e.sets||[],handleOpenSetsAddForm:this.handleOpenSetsAddForm,handleOpenSetsUpdateForm:this.handleOpenSetsUpdateForm,handleDeleteSets:this.handleDeleteSets}))}}]),t}(a.Component),x=f.a.div(C()),A=f.a.strong(j()),F=Object(m.b)(null,function(e){return{deleteWorkout:function(t){return e(function(e){return{type:"DELETE_WORKOUT",payload:e}}(t))},openSetsAddForm:function(t){return e({type:"OPEN_SETS_ADD_FORM",payload:t})},openSetsUpdateForm:function(t,n){return e({type:"OPEN_SETS_UPDATE_FORM",payload:{index:t,workoutData:n}})},deleteSets:function(t,n){return e(function(e,t){return{type:"DELETE_SETS",payload:{workoutId:e,setsIndex:t}}}(t,n))}}})(T);function W(){var e=Object(h.a)(["\n  margin: 2em 0;\n\n  &:first-child {\n    margin-top: 0;\n  }\n"]);return W=function(){return e},e}function _(){var e=Object(h.a)(["\n  max-width: 640px;\n  margin: 0 auto;\n  padding: 0;\n  list-style: none;\n"]);return _=function(){return e},e}var U=f.a.ul(_()),L=f.a.li(W()),R=function(e){var t=e.list,n=e.handleOpenUpdateForm;return t.length?r.a.createElement(U,null,t.map(function(e,t){return r.a.createElement(L,{key:t},r.a.createElement(F,{data:e,handleOpenUpdateForm:n}))})):r.a.createElement(E.x,null,"\ub4f1\ub85d\ub41c \uc6b4\ub3d9\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.")},I=n(28),P=n(60),M=n(15),V={submitType:"add",formData:{parts:"",name:"",type:[{label:"Weight",name:"weight",checked:!0},{label:"Reps",name:"reps",checked:!0},{label:"Time",name:"time",checked:!1}]}},K=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state=V,n.handleChangeText=function(e){n.setState({formData:Object(M.a)({},n.state.formData,Object(P.a)({},e.target.name,e.target.value))})},n.handleCheckbox=function(e){var t=n.state.formData.type.map(function(t){return t.name===e.target.name?Object(M.a)({},t,{checked:e.target.checked}):t});n.setState({formData:Object(M.a)({},n.state.formData,{type:Object(I.a)(t)})})},n.handleClose=function(){n.props.onClose(),n.setState(V)},n.handleSubmit=function(){var e=n.state,t=e.submitType,a=e.formData,r=Object(M.a)({},a);if(!n.isValid())return!1;"add"===t?(r.id=Math.random(),r.createdAt=(new Date).getTime(),n.props.addWorkout(r)):"update"===t&&n.props.updateWorkout(r),n.handleClose()},n.isValid=function(){var e=n.state.formData,t=""!==e.name,a=e.type.some(function(e){return!0===e.checked});return!(!t||!a)},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.open,n=this.state,a=n.submitType,l=n.formData,o=l.parts,c=l.name,i=l.type;return r.a.createElement(E.c,{open:t,keepMounted:!0,onClose:this.handleClose},r.a.createElement(E.f,null,"\uc6b4\ub3d9 ","add"===a?"\ucd94\uac00":"\uc218\uc815"),r.a.createElement(E.e,null,r.a.createElement(E.v,{label:"\uc6b4\ub3d9\ubd80\uc704",fullWidth:!0,name:"parts",value:o,onChange:this.handleChangeText}),r.a.createElement(E.v,{label:"\uc6b4\ub3d9\uba85",fullWidth:!0,name:"name",value:c,onChange:this.handleChangeText}),r.a.createElement(E.j,{row:!1},i.map(function(t,n){return r.a.createElement(E.i,{key:n,control:r.a.createElement(E.p,{name:t.name,checked:t.checked,onChange:e.handleCheckbox,color:"primary"}),label:t.label,value:"end",labelPlacement:"start",style:{marginLeft:"0px",justifyContent:"space-between"}})}))),r.a.createElement(E.d,null,r.a.createElement(E.b,{color:"secondary",fullWidth:!0,onClick:this.handleClose},"\ucde8\uc18c"),r.a.createElement(E.b,{variant:"contained",color:"primary",fullWidth:!0,onClick:this.handleSubmit,disabled:!this.isValid()},"add"===a?"\ucd94\uac00":"\uc218\uc815")))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"update"!==t.submitType&&e.formData?{submitType:"update",formData:e.formData}:null}}]),t}(a.Component),N=Object(m.b)(null,function(e){return{addWorkout:function(t){return e(function(e){return{type:"ADD_WORKOUT",payload:e}}(t))},updateWorkout:function(t){return e(function(e){return{type:"UPDATE_WORKOUT",payload:e}}(t))}}})(K),z=function(e){var t=e.index,n=e.name,a=e.count;return-1!==t?r.a.createElement(E.f,null,n," - ",t+1," \uc138\ud2b8"):r.a.createElement(E.f,null,n," - ",a," Sets")},Y=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleClose=function(){n.props.closeSetsForm()},n.handleChangeValue=function(e){var t=e.target,a=t.name,r=t.value;n.props.changeSetsValue(a,r)},n.handleSubmit=function(){var e=n.props,t=e.selectedSetsIndex,a=e.workoutData.id,r=e.formData;-1!==t?(n.props.updateSets(a,t,r),n.handleClose()):(n.props.addSets(a,r),n.handleClose())},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.selectedSetsIndex,a=t.workoutData,l=t.isOpen,o=a.name,c=a.sets,i=a.type;return r.a.createElement(E.c,{open:l,onClose:this.handleClose},r.a.createElement(z,{index:n,name:o,count:c&&c.length?c.length+1:1}),r.a.createElement(E.e,null,i&&i.map(function(t,n){return t.checked?r.a.createElement(E.v,{key:n,type:"number",label:t.label,fullWidth:!0,name:t.name,onChange:e.handleChangeValue}):null})),r.a.createElement(E.d,null,r.a.createElement(E.b,{color:"secondary",fullWidth:!0,onClick:this.handleClose},"\ucde8\uc18c"),r.a.createElement(E.b,{variant:"contained",color:"primary",fullWidth:!0,onClick:this.handleSubmit},-1!==n?"\uc218\uc815":"\ucd94\uac00")))}}]),t}(a.Component),q=Object(m.b)(function(e){var t=e.setsFormReducer;return{isOpen:t.isOpen,workoutData:t.workoutData,formData:t.formData,selectedSetsIndex:t.selectedSetsIndex}},function(e){return{closeSetsForm:function(){return e({type:"CLOSE_SETS_FORM"})},changeSetsValue:function(t,n){return e(function(e,t){return{type:"CHANGE_SETS_VALUE",payload:{name:e,value:t}}}(t,n))},addSets:function(t,n){return e(function(e,t){return{type:"ADD_SETS",payload:{workoutId:e,setsData:t}}}(t,n))},updateSets:function(t,n,a){return e(function(e,t,n){return{type:"UPDATE_SETS",payload:{workoutId:e,setsIndex:t,setsData:n}}}(t,n,a))}}})(Y);function G(){var e=Object(h.a)(["\n  position: fixed;\n  bottom: 1em;\n  left: 0;\n  width: 100%;\n  text-align: center;\n"]);return G=function(){return e},e}function H(){var e=Object(h.a)(["\n  margin-bottom: 4em;\n"]);return H=function(){return e},e}var B=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isOpen:!1,formData:null},n.handleOpenAddForm=function(){n.setState({isOpen:!0})},n.handleOpenUpdateForm=function(e){n.setState({isOpen:!0,formData:e})},n.handleCloseWorkoutForm=function(){n.setState({isOpen:!1,formData:null})},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.workoutList;return r.a.createElement(v,null,r.a.createElement(J,null,r.a.createElement(E.x,{variant:"display1",align:"center",color:"textPrimary",style:{margin:"0.5em 0"}},y()().format("YYYY.MM.DD")),r.a.createElement(R,{list:e,handleOpenUpdateForm:this.handleOpenUpdateForm}),r.a.createElement(Q,null,r.a.createElement(E.g,{size:"small",color:"primary","aria-label":"Add",onClick:this.handleOpenAddForm},r.a.createElement(b.b,null))),r.a.createElement(N,{open:this.state.isOpen,onClose:this.handleCloseWorkoutForm,formData:this.state.formData}),r.a.createElement(q,null)))}}]),t}(a.Component),J=f.a.div(H()),Q=f.a.div(G()),$=B,X=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.onRequestWorkouts(p)}},{key:"render",value:function(){var e=this.props.workoutList;return r.a.createElement("div",{className:"App"},r.a.createElement($,{workoutList:e}))}}]),t}(a.Component),Z=Object(m.b)(function(e){return{workoutList:e.workoutReducer.workoutList}},function(e){return{onRequestWorkouts:function(t){return e(function(e){return{type:"REQUEST_WORKOUTS",payload:e}}(t))}}})(X),ee=n(32),te=n(155),ne={workoutList:[]},ae=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"REQUEST_WORKOUTS":return Object(M.a)({},t,{workoutList:Object(I.a)(n.payload)});case"ADD_WORKOUT":return Object(M.a)({},t,{workoutList:[].concat(Object(I.a)(t.workoutList),[n.payload])});case"UPDATE_WORKOUT":return e=n.payload,Object(M.a)({},t,{workoutList:Object(I.a)(t.workoutList.map(function(t){return t.id===e.id?e:t}))});case"DELETE_WORKOUT":return Object(M.a)({},t,{workoutList:Object(I.a)(t.workoutList.filter(function(e){return e.id!==n.payload.id}))});case"ADD_SETS":return Object(M.a)({},t,{workoutList:Object(I.a)(t.workoutList.map(function(e){var t=n.payload,a=t.workoutId,r=t.setsData,l=Object(M.a)({},e);return e.id===a?(l.sets||(l.sets=[]),l.sets.push(r),l):e}))});case"UPDATE_SETS":return Object(M.a)({},t,{workoutList:Object(I.a)(t.workoutList.map(function(e){var t=n.payload,a=t.workoutId,r=t.setsIndex,l=t.setsData,o=Object(M.a)({},e);return e.id===a?(o.sets&&(o.sets[r]=l),o):e}))});case"DELETE_SETS":return Object(M.a)({},t,{workoutList:Object(I.a)(t.workoutList.map(function(e){var t=n.payload,a=t.workoutId,r=t.setsIndex,l=Object(M.a)({},e);return e.id===a?(l.sets&&(l.sets=l.sets.filter(function(e,t){return t!==r})),l):e}))});default:return t}},re={selectedSetsIndex:-1,workoutData:{},formData:{},isOpen:!1},le=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"OPEN_SETS_ADD_FORM":return{selectedSetsIndex:-1,workoutData:e=a.payload,formData:t=function(e){var t={};return e.forEach(function(e){e.checked&&(t[e.name]="")}),t}(e.type),isOpen:!0};case"OPEN_SETS_UPDATE_FORM":var r=a.payload.index;return t=(e=Object(M.a)({},a.payload.workoutData)).sets?Object(M.a)({},e.sets[r]):{},{selectedSetsIndex:a.payload.index,workoutData:e,formData:t,isOpen:!0};case"CLOSE_SETS_FORM":return Object(M.a)({},n,{formData:{},isOpen:!1});case"CHANGE_SETS_VALUE":return(t=n.formData)[a.payload.name]=a.payload.value,Object(M.a)({},n,{formData:t});default:return n}},oe=Object(ee.combineReducers)({workoutReducer:ae,setsFormReducer:le}),ce=Object(ee.createStore)(oe,Object(te.composeWithDevTools)(Object(ee.applyMiddleware)()));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(m.a,{store:ce},r.a.createElement(Z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[5432,1,2]]]);
//# sourceMappingURL=main.8836d30e.chunk.js.map